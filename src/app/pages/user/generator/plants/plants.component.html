
<div style="display: flex; flex-direction: row; font-family: 'Montserrat';">

            <!-- Creación de planta -->
            <div *ngIf="createPlant" class="modal">
                <div class="modal-content-xl">
                    <span class="close" (click) = "createPlant = false">&times;</span>
                <div style="display: flex; margin-left: 0.5rem; margin-top: 1rem;">
                    <img src="../../../../../assets/icons/inject.svg">
                </div>
                <form style="width: 100%; max-width: 100rem;">
                    <div class="grid-container-2">
                        <div style="margin-bottom: 0.1rem;">
                            <label for="small-input">Nombre de la planta</label>
                            <input formControlName="NIT" type="text">
                        </div>
                        <div style="margin-bottom: 0.1rem;">
                            <label for="small-input">Departamento</label>
                            <select 
                            style="
                                background-color: #f7fafc;
                                border: 1px solid #d2d6dc;
                                color: #4b5563;
                                font-size: 0.875rem;
                                border-radius: 0.375rem;
                                outline: none;
                                width: 100%;
                                padding: 0.625rem;">
                            <option value="1">Generador</option>
                            </select>
                        </div>
                    </div>
                    <div class="grid-container-2">
                        <div style="margin-bottom: 0.1rem;">
                            <label for="small-input">Ciudad</label>
                            <select 
                            style="
                                background-color: #f7fafc;
                                border: 1px solid #d2d6dc;
                                color: #4b5563;
                                font-size: 0.875rem;
                                border-radius: 0.375rem;
                                outline: none;
                                width: 100%;
                                padding: 0.625rem;">
                            <option value="1">Generador</option>
                            </select>
                            
                        </div>
                        <div style="margin-bottom: 0.1rem;">
                            <label for="small-input">Coordenadas</label>
                            <input formControlName="NIT" type="text">
                        </div>
                    </div>
                    <div class="grid-container-2">
                        <div style="margin-bottom: 0.1rem;">
                            <label for="small-input">Tecnología</label>
                            <select 
                            style="
                                background-color: #f7fafc;
                                border: 1px solid #d2d6dc;
                                color: #4b5563;
                                font-size: 0.875rem;
                                border-radius: 0.375rem;
                                outline: none;
                                width: 100%;
                                padding: 0.625rem;">
                            <option value="1">Generador</option>
                            </select>
                        </div>
                        <div style="margin-bottom: 0.1rem;">
                            <label for="small-input">Tasa de emisión (CO2)</label>
                            <input formControlName="NIT" type="text">
                        </div>
                    </div>
                    <div class="grid-container-2">
                        <div style="margin-bottom: 0.1rem;">
                            <label for="small-input">Capacidad nominal</label>
                            <input formControlName="NIT" type="text">
                        </div>
                        <div style="margin-bottom: 0.1rem;">
                            <label for="small-input">Estado de la planta</label>
                            <select 
                            style="
                                background-color: #f7fafc;
                                border: 1px solid #d2d6dc;
                                color: #4b5563;
                                font-size: 0.875rem;
                                border-radius: 0.375rem;
                                outline: none;
                                width: 100%;
                                padding: 0.625rem;">
                            <option value="1">Generador</option>
                            </select>
                        </div>
                    </div>
    
                </form>
                <div style="display: flex; justify-content: center; margin-top: 2rem;">
                    <button mat-button style="
                        font-family: 'Montserrat'; border-radius: 1rem;
                        border: solid 1px gray;
                        padding-right: 2rem;
                        padding-left: 2rem;"
                        (click)="createPlant = false"
                        >Cancelar</button>
                    <button mat-button style="
                    font-family: 'Montserrat'; background-color: #4C9C2E; color: white;
                    border-radius: 1rem; margin-left: 0.5rem;
                    border: solid 1px #c6d814;
                    padding-right: 2rem;
                    padding-left: 2rem;
                    ">Crear planta</button>
                </div>
            </div>
            </div>

            <!-- Fijar precios de energía  -->
            <div *ngIf="price" class="modal">
                <div class="modal-content">
                    <span class="close" (click) = "price = false">&times;</span>
                    <div style="display: flex; margin-left: 0.5rem; margin-top: 1rem; margin-bottom: 1rem;">
                        <img src="../../../../../assets/icons/inject.svg">
                        <h3 style="font-weight: 700;margin-left: 2rem; margin-top: 1.5rem; color:#4C9C2E;
                        ;">
                            Fijar precios de energía
                        </h3>
                    </div>
                    <form  style="width: 100%; max-width: 100rem; margin-left: 0.5rem;">
                        <div style="margin-bottom: 0.1rem;">
                            <label for="small-input">Precio de energía</label>
                            <input formControlName="NIT" type="text">
                        </div>
        
                    </form>
                    <div style="display: flex; justify-content: center; margin-top: 2rem;">
                        <button mat-button style="
                            font-family: 'Montserrat'; border-radius: 1rem;
                            border: solid 1px gray;
                            padding-right: 2rem;
                            padding-left: 2rem;"
                            (click)="price = false"
                            >Cancelar</button>
                        <button mat-button style="
                        font-family: 'Montserrat'; background-color: #4C9C2E; color: white;
                        border-radius: 1rem; margin-left: 0.5rem;
                        border: solid 1px #c6d814;
                        padding-right: 2rem;
                        padding-left: 2rem;
                        ">Fijar</button>
                    </div>
                </div>
            </div>

            <!-- Modal reinicio de producción -->
            <div *ngIf="restart" class="modal">
                <div class="modal-content">
                    <span class="close" (click)="restart = false">&times;</span>
                    <div style="display: flex; width: 100%; justify-content: center;">
                        <div style="height: 4rem; width: 4rem; border-radius: 4rem; border: solid 3px #4C9C2E ;
                        display: flex; justify-content: center;
                        align-items: center;">
                                <p style="margin: 0; font-size: 2rem; font-weight: 400; color:#858584;">?</p>
                        </div>
                    </div>
                    <h4 style="font-weight: 700; text-align: center; margin-top: 2rem; color:#858584;">Reinicio producción</h4>
                    <h4 style="font-weight: 400; text-align: center; margin-top: 2rem;
                    color:#858584;
                    font-weight: 500; padding-left: 2rem; padding-right: 2rem;">¿Deseas reiniciar la producción de la planta xxxxxxxx?</h4>
                    <div style="display: flex; justify-content: center; ">
                        <button mat-button style="
                            font-family: 'Montserrat'; border-radius: 1rem;
                            border: solid 1px gray;
                            padding-right: 2rem;
                            padding-left: 2rem;"
                            (click)="restart = false"
                            >No</button>
                        <button mat-button style="
                        font-family: 'Montserrat'; background-color: #4C9C2E; color: white;
                        border-radius: 1rem; margin-left: 0.5rem;
                        border: solid 1px #c6d814;
                        padding-right: 2rem;
                        padding-left: 2rem;
                        ">Sí</button>
                    </div>
                </div>
            </div>

            <!-- Modal inyectar energía  -->
            <div *ngIf="inject" class="modal">
                <div class="modal-content">
                    <span class="close" (click) = "inject = false">&times;</span>
                    <div style="display: flex; margin-left: 0.5rem;">
                        <img src="../../../../../assets/icons/inject.svg">
                        <h2 style="font-weight: 700;margin-left: 2rem; margin-top: 1.5rem; color:#4C9C2E;
                        ;">
                            Inyectar energía
                        </h2>
                    </div>
                    <form style="width: 100%; max-width: 100rem; margin-left: 0.5rem;">
                        <!-- NIT y Empresa -->
                        <div style="margin-bottom: 0.1rem;">
                            <label for="small-input">Nombre energía</label>
                            <input formControlName="NIT" type="text">
                        </div>
                        <div style="margin-bottom: 0.8rem;">
                            <label for="small-input">Cantidad de energía despachada (MWh)</label>
                            <input formControlName="name" type="text">
                        </div>
                        <!-- Contacto y teléfono -->
                        <div style="margin-bottom: 0.8rem;">
                            <label for="small-input">Cantidad de energía inyectada (MWh)</label>
                            <input formControlName="contact" type="text">
                        </div>
                        <div style="margin-bottom: 0.8rem;">
                            <label for="small-input">Cantidad de energía (MWh)</label>
                            <input formControlName="phone" type="number">
                        </div>
                        <div style="margin-bottom: 0.8rem;">
                            <label for="small-input">Cantidad de energía (MWh) Bolsa</label>
                            <input formControlName="phone" type="number">
                        </div>  
                    </form>
                    
                    

                    <div style="display: flex; justify-content: center; margin-top: 2rem;">
                        <button mat-button style="
                            font-family: 'Montserrat'; border-radius: 1rem;
                            border: solid 1px gray;
                            padding-right: 2rem;
                            padding-left: 2rem;"
                            (click)="inject = false"
                            >Cancelar</button>
                        <button mat-button style="
                        font-family: 'Montserrat'; background-color: #4C9C2E; color: white;
                        border-radius: 1rem; margin-left: 0.5rem;
                        border: solid 1px #c6d814;
                        padding-right: 2rem;
                        padding-left: 2rem;
                        ">Inyectar</button>
                    </div>
                </div>
            </div>
            
            <app-nav-generator></app-nav-generator>

            <!-- Visual de agentes por acción -->
            <div style="display: flex; flex-direction: column; width: 100vw;">
                <app-header [name]="'Generador'"></app-header>
                <div class="margin-sides">
                    <h1 class="title-large">Plantas de generación</h1>
            
                    <div class="block-section ">
                    <div style="padding: 1.5rem;">
                        <h3 class="title-green ">Filtros</h3>
                        <div class="grid-container-3">
                        <div>
                            <label for="small-input">Nombre</label>
                            <input type="text">
                        </div>
                        <div>
                            <label for="small-input">Ubicación</label>
                            <input type="text">
                        </div>
                        <div>
                            <label for="small-input">Fecha de operación</label>
                            <input type="date" placeholder="dd/mm/aaaa">
                        </div>
                        </div>
                        <div class="grid-container-3">
                        <div>
                            <label for="small-input">Tecnología de la planta</label>
                            <select 
                            class="select-input ">
                            <option value="1">Generador</option>
                            </select>
                        </div>
                        <div>
                            <label for="small-input">Estado de la planta</label>
                            <select 
                            class="select-input ">
                            <option value="1">Pendiente</option>
                            </select>
                        </div>
                        </div>
                    </div>
                    </div>
                    <div class="scroll-horizontal">
                    <!-- Botones Generador -->
                    <div class="flex-end ">
                        
                        <button mat-button class="button-green" style="color: white;"
                        (click)= "price = true"
                        >Fijar precios de energía</button>
                        <button mat-button class="button-green" style="color: white;"
                        (click)="createPlant = true"
                        >Crear planta</button>
                    </div>

                    <!-- Tabla generador -->
                    <table *ngIf="users" [dataSource]="users" mat-table class="mat-elevation-z8">
                        <ng-container matColumnDef="name">
                        <th mat-header-cell *matHeaderCellDef class="font-montserrat" style="border-top-left-radius: 0.5rem; border-bottom-left-radius: 0.5rem;"> Nombre </th>
                        <td mat-cell *matCellDef="let element"> {{element.name}} </td>
                        </ng-container>
                
                        <ng-container matColumnDef="location">
                        <th mat-header-cell *matHeaderCellDef class="font-montserrat"> Ubicación </th>
                        <td mat-cell *matCellDef="let element"> {{element.location}} </td>
                        </ng-container>
                
                
                        <ng-container matColumnDef="coord">
                        <th mat-header-cell *matHeaderCellDef class="font-montserrat"> Coordenadas </th>
                        <td mat-cell *matCellDef="let element"> {{element.coord}} </td>
                        </ng-container>
                
                        <ng-container matColumnDef="initial_date">
                        <th mat-header-cell *matHeaderCellDef class="font-montserrat"> Fecha inicio operaciones </th>
                        <td mat-cell *matCellDef="let element"> {{element.initial_date}} </td>
                        </ng-container>
                
                        <ng-container matColumnDef="co2" >
                        <th mat-header-cell *matHeaderCellDef class="font-montserrat"> Tasa de emisión </th>
                        <td mat-cell *matCellDef="let element"> {{element.co2}} </td>
                        </ng-container>

                        <ng-container matColumnDef="nominal_power" >
                        <th mat-header-cell *matHeaderCellDef class="font-montserrat"> Capacidad nominal </th>
                        <td mat-cell *matCellDef="let element"> {{element.nominal_power}} </td>
                        </ng-container>

                        <ng-container matColumnDef="technology" >
                        <th mat-header-cell *matHeaderCellDef class="font-montserrat"> Tecnología </th>
                        <td mat-cell *matCellDef="let element"> {{element.technology}} </td>
                        </ng-container>

                        <ng-container matColumnDef="energy_qty" >
                        <th mat-header-cell *matHeaderCellDef class="font-montserrat"> Cantidad de energía </th>
                        <td mat-cell *matCellDef="let element"> {{element.energy_qty}} </td>
                        </ng-container>
                
                        <ng-container matColumnDef="status">
                        <th mat-header-cell *matHeaderCellDef class="font-montserrat"> Estado </th>
                        <td mat-cell *matCellDef="let element"> {{element.status}} </td>
                        </ng-container>
                
                        <ng-container matColumnDef="actions">
                        <th mat-header-cell *matHeaderCellDef class="font-montserrat" style="border-top-right-radius: 0.5rem; border-bottom-right-radius: 0.5rem;"> Acciones </th>
                        <td mat-cell *matCellDef="let element"> 
                            <div class="mat-icon-button-custom" style="display: flex;">
                                <button style="border-radius: 50%; height: 40px; width: 40px; background-color: rgb(194 213 1); color:white; border: none; cursor: pointer;"
                                (click)="inject = true">
                                    <img src="../../../../../assets/icons/inject_icon.svg">
                                </button>
                                
                                <button style="border-radius: 50%; height: 40px; width: 40px; background-color: rgb(194 213 1); color:white; border:none; margin-left: 0.2rem; cursor: pointer;"
                                (click)="restart = true">
                                    <img src="../../../../../assets/icons/agent-registry.svg">
                                </button>
                               </div> 
                        </td>
                        </ng-container>
                
                        <!-- Define las columnas que se mostrarán -->
                        <tr mat-header-row *matHeaderRowDef="userColumns" class="mat-header-style" style="border-top-left-radius: 1rem;"></tr>
                        <tr mat-row *matRowDef="let row; columns: userColumns;" class="font-montserrat"></tr>
                    </table>
                    <mat-paginator 
                    class="font-montserrat" 
                    (page)="handlePageEvent($event)"
                    [length]="length"
                    [pageSizeOptions]="[5, 10, 15]" 
                    showFirstLastButtons></mat-paginator>
                </div>
                </div>
            
            </div>
</div>
